{% extends "base.html" %}
{% block title %}로그인 · SOMS{% endblock %}

{% block content %}
<style>
    /* 로그인 페이지 전용 스타일 */
    .login-container {
        min-height: 100vh;
        overflow: hidden;
    }
    .login-left {
        background: linear-gradient(135deg, #1c2438 0%, #1e3a8a 100%);
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 4rem;
        color: white;
    }
    .login-left::before {
        content: '';
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        background-image: url('https://images.unsplash.com/photo-1558494949-efc5270f9c47?q=80&w=2070&auto=format&fit=crop');
        background-size: cover;
        background-position: center;
        opacity: 0.15;
        z-index: 0;
    }
    .login-content {
        position: relative;
        z-index: 1;
    }
    .login-right {
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #ffffff;
    }
    .login-form-wrapper {
        width: 100%;
        max-width: 420px;
        padding: 2rem;
    }
    .form-floating > .form-control:focus ~ label {
        color: #0d6efd;
    }
    .form-control:focus {
        border-color: #0d6efd;
        box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.15);
    }
</style>

<div class="row g-0 login-container">
    <div class="col-lg-7 d-none d-lg-flex login-left">
        <div class="login-content">
            <img src="{{ url_for('static', filename='img/kt_cloud_logo.png') }}"
                 alt="Logo" style="height: 48px; filter: brightness(0) invert(1);" class="mb-4">
            <h1 class="display-4 fw-bold mb-3">SOMS</h1>
            <p class="fs-4 fw-light text-white-50 mb-5">
                Security Operation<br>Management System
            </p>
            <div class="d-flex gap-4 text-white-50 small">
                <span><i class="bi bi-shield-check me-2"></i>통합 보안 관제</span>
                <span><i class="bi bi-hdd-network me-2"></i>자산 데이터 관리</span>
                <span><i class="bi bi-graph-up-arrow me-2"></i>실시간 대시보드</span>
            </div>
        </div>
        <div class="position-absolute bottom-0 start-0 p-5 text-white-50 small z-1">
            &copy; 2026 kt cloud. All rights reserved.
        </div>
    </div>

    <div class="col-lg-5 login-right">
        <div class="login-form-wrapper">
            <div class="text-center mb-5 d-lg-none">
                <img src="{{ url_for('static', filename='img/kt_cloud_logo.png') }}" alt="Logo" style="height: 40px;">
            </div>

            <div class="mb-5">
                <h2 class="fw-bold text-dark mb-2">SOMS 로그인</h2>
            </div>

            <form method="post" action="{{ url_for('auth.login') }}">

                <div class="form-floating mb-3">
                    <input type="text" class="form-control bg-light border-0" id="userIdInput" name="user_id" placeholder="ID" required autofocus>
                    <label for="userIdInput" class="text-secondary">아이디</label>
                </div>

                <div class="form-floating mb-4">
                    <input type="password" class="form-control bg-light border-0" id="passwordInput" name="password" placeholder="Password" required>
                    <label for="passwordInput" class="text-secondary">비밀번호</label>
                </div>

                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="rememberMe">
                        <label class="form-check-label small text-secondary" for="rememberMe">
                            아이디 저장
                        </label>
                    </div>
                    <a href="#" class="small text-decoration-none fw-bold" onclick="Swal.fire('알림', '관리자에게 비밀번호 초기화를 요청하세요.', 'info')">비밀번호 찾기</a>
                </div>

                <div class="d-grid gap-2 mb-4">
                    <button type="submit" class="btn btn-primary btn-lg fw-bold py-3 shadow-sm" style="font-size: 1rem;">
                        로그인하기
                    </button>
                </div>

                <div class="text-center mt-5 pt-3 border-top">
                    <p class="small text-muted mb-3">
                        계정이 없으신가요? <span class="fw-bold text-dark">관리자에게 문의하세요.</span>
                    </p>

                    <div class="p-3 bg-light rounded border border-light d-inline-block text-start w-100">
                        <div class="d-flex align-items-center justify-content-between mb-2">
                            <span class="badge bg-secondary bg-opacity-75">관리자</span>
                            <span class="fw-bold text-dark small">DC서비스기술팀 한다혜</span>
                        </div>
                        <a href="mailto:han.dahye@kt.com" class="btn btn-outline-secondary btn-sm w-100 fw-bold" style="font-size: 0.85rem;">
                            <i class="bi bi-envelope-fill me-2"></i>han.dahye@kt.com
                        </a>
                    </div>
                </div>

            </form>
        </div>
    </div>
</div>
{% endblock %}